### 存储

#### emptyDir

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: emptydir-pod
spec:
  containers:
    - name: nginx
      imagePullPolicy: IfNotPresent
      image: nginx
      volumeMounts:
        - mountPath: /tmp/v1
          name: v1
  volumes:
    - name: v1
      emptyDir:
        { }
```

#### hostPath

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: hostpath-pod
spec:
  containers:
    - name: nginx
      imagePullPolicy: IfNotPresent
      image: nginx
      volumeMounts:
        - mountPath: /data
          name: v2
  volumes:
    - name: v2
      hostPath:
        path: /data
```

#### nfs

增加一台虚拟机 `nfs(192.168.205.20)` 作为 NFS 服务器

[How To Set Up an NFS Mount on Ubuntu 18.04](https://www.digitalocean.com/community/tutorials/how-to-set-up-an-nfs-mount-on-ubuntu-18-04)

Server 端：

> 提示：在虚拟机：`nfs` 中执行命令。

```shell
sudo apt-get update
sudo apt-get install -y nfs-kernel-server
sudo systemctl start nfs-server
sudo systemctl enable nfs-server
sudo mkdir /share
cat <<EOF | sudo tee -a /etc/exports
/share    *(rw,async,no_root_squash,no_subtree_check)
EOF
sudo exportfs -arv
```

Client 端：

> 提示：在虚拟机：`k8s-2` 和 `k8s-3` 中执行命令。

```shell
sudo apt-get install -y nfs-common
showmount -e 192.168.205.20
```

返回：

```shell
Export list for 192.168.205.20:
/share *
```

```shell
sudo mkdir /share
sudo mount 192.168.205.20:/share /share
```

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: nfs-pod
spec:
  containers:
    - name: nginx
      image: nginx
      imagePullPolicy: IfNotPresent
      volumeMounts:
        - mountPath: /share
          name: v3
  volumes:
    - name: v3
      nfs:
        path: /share
        server: 192.168.205.20
```